package com.qunchuang.rwlmall.service;

import com.lly835.bestpay.config.WxPayH5Config;
import com.lly835.bestpay.model.wxpay.response.WxPayAsyncResponse;
import com.lly835.bestpay.service.impl.WxPayServiceImpl;
import com.lly835.bestpay.service.impl.WxPaySignature;
import org.junit.Test;

/**
 * @author Curtain
 * @date 2018/9/27 9:12
 */
public class WxPayTest {

    @Test
    public void test1(){
//        WxPayH5Config wxPayH5Config = new WxPayH5Config();
//        wxPayH5Config.setMchKey("S58m7pQcZNDqqJB2mncEk84XNs8r0vo6");
//
//        WxPayServiceImpl wxPayService = new WxPayServiceImpl();
//        wxPayService.setWxPayH5Config(wxPayH5Config);
//
//        WxPayAsyncResponse asyncResponse = new WxPayAsyncResponse();
//
//        asyncResponse.setReturnCode("SUCCESS");
//        asyncResponse.setReturnMsg(null);
//        asyncResponse.setAppid("wxec5ea53d7f1262b6");
//        asyncResponse.setMchId("1220661601");
//        asyncResponse.setDeviceInfo(null);
//        asyncResponse.setNonceStr("NKhgmo1Jo4rgre1F");
//        asyncResponse.setSign("B896A0DD981A70D3BD99F890D45F9EEE");
//        asyncResponse.setSignType(null);
//        asyncResponse.setResultCode("SUCCESS");
//        asyncResponse.setErrCode(null);
//        asyncResponse.setErrCodeDes(null);
//        asyncResponse.setOpenid("op5IPuPGC_F6Q9VmjgrOYMpJf6Tk");
//        asyncResponse.setIsSubscribe("Y");
//        asyncResponse.setTradeType("JSAPI");
//        asyncResponse.setBankType("CFT");
//        asyncResponse.setSettlementTotalFee(null);
//        asyncResponse.setTotalFee(5200);
//        asyncResponse.setFeeType("CNY");
//        asyncResponse.setCashFee("5194");
//        asyncResponse.setCashFeeType(null);
//        asyncResponse.setCouponFee("6");
//        asyncResponse.setCouponCount("1");
//        asyncResponse.setCouponId0("2000000048038498108");
//        asyncResponse.setCouponFee0("6");
//        asyncResponse.setCouponType0(null);
//        asyncResponse.setTransactionId("4200000171201809260470358578");
//        asyncResponse.setOutTradeNo("GOIQFxYDFzWQtUote0ROU2A03");
//        asyncResponse.setAttach(null);
//        asyncResponse.setTimeEnd("20180926141309");
//
//
//        boolean f =  WxPaySignature.verify(wxPayService.buildMap(asyncResponse), "S58m7pQcZNDqqJB2mncEk84XNs8r0vo6");
//
//        System.out.println(f);

    }
}
